# 23-çˆªæ´¼æ•°å­¦-é¡¹ç›®å¼€å‘æ–‡æ¡£

## ä½œå“åç§°

> çˆªæ´¼æ•°å­¦ï¼ˆJavaMath)
> 

## å°ç»„åç§°

> é‡ç”Ÿä¹‹æˆ‘æ˜¯çˆªæ´¼å¤§ä½¬
> 

## å°ç»„æˆå‘˜åŠåˆ†å·¥

- ç»„é•¿ï¼šå´è‡ªå¼º-22371495
    - è´Ÿè´£è®¾è®¡ã€ç»Ÿç­¹è§„åˆ’ã€åˆ†é…ä»»åŠ¡ï¼Œä¸ºç»„å‘˜å¼€å‘æä¾›å¸®åŠ©å’Œå»ºè®®ã€‚åœ¨å…·ä½“çš„åŠŸèƒ½ä¸­ï¼Œè´Ÿè´£å®ç°**ç»Ÿè®¡æ•°æ®**å’Œ**å…¬å¼ç¼–è¾‘**ä¸¤ä¸ªåŠŸèƒ½ã€‚
    - åˆ†å·¥æƒé‡ï¼š1.1
- æ¨è¶…å®‡-22371482
    - è´Ÿè´£PPTåˆ¶ä½œã€Appå›¾æ ‡è®¾è®¡ä»¥åŠå…·ä½“åŠŸèƒ½çš„å®ç°ã€‚å…·ä½“å®ç°çš„åŠŸèƒ½æ˜¯**çŸ©é˜µè¿ç®—**ï¼ˆåŒ…æ‹¬çŸ©é˜µçš„åŠ ã€å‡ã€ä¹˜ã€è½¬ç½®ï¼‰ã€‚
    - åˆ†å·¥æƒé‡ï¼š1.1
- é«˜æ°-79066017
    - åˆ†å·¥æƒé‡ï¼š0.8

## å›¢é˜Ÿåä½œ

### åä½œæ–¹å¼

é¦–å…ˆï¼Œå°ç»„è®¨è®ºç¡®å®šé€‰é¢˜ï¼Œæˆ‘ä»¬ä¸€å¼€å§‹ä¾¿ç¡®å®šäº†åšç§‘å­¦è®¡ç®—å™¨ã€‚æˆ‘ä»¬ä¸€å¼€å§‹å°è¯•åš`JFrame`ï¼Œç”±äºç•Œé¢è¿‡äºç®€é™‹ï¼Œæˆ‘ä»¬å†³å®šå­¦ä¹ å®‰å“å¼€å‘ã€‚

æ¥ç€ï¼Œæˆ‘ï¼ˆç»„é•¿ï¼‰ç‡å…ˆå­¦ä¹ Androidæœ‰å…³çŸ¥è¯†ã€å­¦ç€é…ç½®Android Studioä»¥åŠè™šæ‹Ÿæœºç¯å¢ƒã€‚æˆ‘è®©ç»„å‘˜éƒ½å…ˆå­¦ä¹ Androidå¼€å‘åŸºæœ¬çŸ¥è¯†ï¼Œæˆ‘åˆ™åœ¨GitHubå¹³å°å¯»æ‰¾å¯ä»¥å€Ÿé‰´çš„å¼€æºé¡¹ç›®ã€‚

ç„¶åï¼Œæˆ‘ä»¬å°è¯•ç€åœ¨GitHubä¸Šçš„å¼€æºé¡¹ç›®çš„åŸºç¡€ä¸Šæ‰©å±•åŠŸèƒ½ã€‚å› æ­¤åˆ†å·¥å°±æ˜ç¡®åœ°åˆ’åˆ†æˆæ¯ä¸ªäººè´Ÿè´£1-2ä¸ªåŠŸèƒ½ï¼Œç¼–å†™å¯¹åº”çš„`Java`æ–‡ä»¶å’Œ`XML`å¸ƒå±€æ–‡ä»¶ã€‚å…¶ä¸­æˆ‘å®ç°äº†**ç»Ÿè®¡æ•°æ®**å’Œ**å…¬å¼ç¼–è¾‘**ä¸¤ä¸ªåŠŸèƒ½ï¼Œæ¨è¶…å®‡å®ç°äº†**çŸ©é˜µè¿ç®—**åŠŸèƒ½ã€‚

æœ€åï¼Œæˆ‘è´Ÿè´£æ•´åˆä»£ç ã€ç”Ÿæˆ`JavaDoc`ã€ç¼–å†™é¡¹ç›®å¼€å‘æ–‡æ¡£å’Œç”¨æˆ·è¯´æ˜ä¹¦ä¸»è¦å†…å®¹ï¼Œæ¨è¶…å®‡è´Ÿè´£åˆ¶ä½œPPTã€è®¾è®¡Appå›¾æ ‡ã€ç¼–å†™é¡¹ç›®å¼€å‘æ–‡æ¡£å’Œç”¨æˆ·è¯´æ˜ä¹¦å…³äº**çŸ©é˜µè¿ç®—**çš„å‰©ä½™éƒ¨åˆ†ã€‚

### ååŒç¼–ç çš„æ–¹å¼

> å¾®ä¿¡å‘å‹ç¼©åŒ…
> 
![Alt text](TeamWorkScreenShot.png)

## é¡¹ç›®ä»‹ç»

- ***é¡¹ç›®èƒŒæ™¯***

åœ¨å­¦ä¹ åŒ—èˆªç²¾å“è¯¾ç¨‹ã€ŠåŸºç¡€ç‰©ç†å®éªŒã€‹çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ¯æ¬¡åšå®éªŒéƒ½ä¼šå¤„ç†æ•°æ®ï¼Œè€Œå¤„ç†æ•°æ®æœ€å¸¸ç”¨çš„æ–¹æ³•å°±æ˜¯ä¸€å…ƒçº¿æ€§å›å½’äº†ã€‚ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬éœ€è¦ä¹¦å†™è®¡ç®—è¿‡ç¨‹æ—¶ï¼Œæ¯”å¦‚åœ¨å¤„ç†

$r = \cfrac{\bar {xy} - \bar x \bar y}{\sqrt{(\bar{x^2} - {\bar x}^2) (\bar{y^2} - {\bar y}^2)}}$ æ—¶ï¼Œæˆ‘ä»¬ä¼šç”¨åˆ°$\sum x$, $\sum y$, $\sum xy$, $\sum x^2$, $\sum y^2$ è¿™ä¸€è¿ä¸²æ•°æ®ã€‚æœ‰æ²¡æœ‰ä¸€ä¸ªç§‘å­¦è®¡ç®—å™¨å¯ä»¥å®ç°å¤æ‚çš„æ•°å­¦è¿ç®—ï¼Œè¿˜èƒ½å¤Ÿæœ‰ä¾‹å¦‚ç»Ÿè®¡æ•°æ®ç­‰ç­‰å…¶ä»–å®ç”¨åŠŸèƒ½å‘¢ï¼Ÿ

- ***é¡¹ç›®ç›®çš„***

å®ç°ä¸€æ¬¾å¤šåŠŸèƒ½çš„ç§‘å­¦è®¡ç®—å™¨ï¼Œä¸ºè¢«åŸºç‰©å®éªŒç¹æ‚çš„æ•°æ®å¤„ç†æ‰€å›°æ‰°çš„åŒ—èˆªå­¦å­å¸¦å»æ¸©æš–ï¼ŒåŒæ—¶å®ç°å…¶ä»–åœ¨å­¦ä¹ å’Œç”Ÿæ´»ä¸­ä¼šç”¨åˆ°çš„å®ç”¨æ•°å­¦åŠŸèƒ½ã€‚

- ***é¡¹ç›®ä»‹ç»***

çˆªæ´¼æ•°å­¦ï¼Œè‹±æ–‡åJavaMathï¼Œä¸€æ¬¾Androidè½¯ä»¶ï¼Œæ˜¯ä¸€ä¸ªé›†è®¸å¤šå®ç”¨åŠŸèƒ½äºä¸€èº«çš„æ•°å­¦å·¥å…·ã€‚

éå¸¸æ„Ÿè°¢GitHubä¸Šå¤§ä½¬[@HK-SHAO](https://github.com/HK-SHAO)çš„å¼€æºé¡¹ç›®-[é»‘æš—è®¡ç®—å™¨](https://github.com/HK-SHAO/DarkCalculator)ã€‚

> å¼€æºåœ°å€: https://github.com/HK-SHAO/DarkCalculator
> 

è¿™æ¬¾å¼€æºçš„Androidè®¡ç®—å™¨ä¸ºæˆ‘ä»¬ç»„æä¾›äº†ä¸°å¯Œçš„å®æ“ç¤ºèŒƒï¼Œç»™æˆ‘ä»¬è®¾è®¡äº†ä¸»è¦æ¡†æ¶å’Œå®ç°æ€è·¯ï¼Œæˆ‘ä»¬ç»„ä»0åˆ°æœ‰å¾—ä»ä¸­å­¦ä¹ äº†è®¸å¤šçŸ¥è¯†ã€‚åœ¨å·²æœ‰çš„å¼€æºä»£ç ä¸‹ï¼Œæˆ‘ä»¬æ‰æœ‰å€Ÿé‰´å’Œå­¦ä¹ çš„æœºä¼šï¼Œå¦åˆ™ä»0å¼€å§‹ä¹Ÿä¼šæ›´åŠ å›°éš¾ã€‚æˆ‘ä»¬ç»„åœ¨åŸæœ‰çš„ç§‘å­¦è®¡ç®—å™¨å’Œé™„åŠ åŠŸèƒ½ä¸Šï¼Œæ‹“å±•å‘æ•£ï¼Œå®ç°äº†æ›´å¤šçš„æ•°å­¦åŠŸèƒ½ï¼Œå¹¶æ›´åä¸ºçˆªæ´¼æ•°å­¦ã€‚

<aside>
ğŸ¥¹ å†æ¬¡æ„Ÿè°¢[@HK-SHAO](https://github.com/HK-SHAO)çš„å®è´µå¼€æºï¼æˆ‘ä»¬ä»ä¸­å­¦ä¹ åˆ°äº†è®¸å¤šçŸ¥è¯†ï¼

</aside>

---

æ¥ä¸‹æ¥æˆ‘æ¥ä»‹ç»ä¸»è¦åŠŸèƒ½ï¼ŒåŸæœ‰çš„*é»‘æš—è®¡ç®—å™¨*åŠŸèƒ½å¦‚ä¸‹ï¼š

1. ç§‘å­¦è®¡ç®—ã€‚è¿™æ˜¯çˆªæ´¼æ•°å­¦æœ€åŸºæœ¬çš„æ•°å­¦è¿ç®—åŠŸèƒ½ã€‚å®ƒå…¼å®¹æ€§é«˜ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œæ‹¥æœ‰è¿‘50ä¸ªå‡½æ•°ï¼Œæ”¯æŒå¤æ•°è¿ç®—ï¼Œç›®å‰æ‹¥æœ‰è®¸å¤šå¸¸ç”¨å’Œä¸å¸¸ç”¨çš„ç§‘å­¦è®¡ç®—å‡½æ•°ã€‚
2. è¿›åˆ¶è½¬æ¢ã€å¤§æ•°è¿ç®—ã€å¤§å†™æ•°å­—ã€‚

---

*çˆªæ´¼æ•°å­¦*æ·»åŠ å¹¶æ‰©å±•çš„åŠŸèƒ½ï¼š

1. ç»Ÿè®¡æ•°æ®ã€‚è¿™æ˜¯çˆªæ´¼æ•°å­¦ç‰¹è‰²çš„åŠŸèƒ½ï¼Œä¹Ÿæ˜¯é‡ç”Ÿä¹‹æˆ‘æ˜¯çˆªæ´¼å¤§ä½¬ç»„çš„çµæ„Ÿæ¥æºã€‚å®ƒå®ç°äº†é€šè¿‡ç”¨æˆ·è¾“å…¥çš„ä¸¤ç»„æ•°æ®ï¼ˆåˆ†åˆ«è¡¨ç¤ºè‡ªå˜é‡$x$ å’Œå› å˜é‡$y$ ï¼‰ï¼Œè®¡ç®—ä¸€å…ƒçº¿æ€§å›å½’ï¼ˆ$y = bx + a$ï¼‰ä¸‹çš„å‚æ•°$b$ ã€$a$ ã€$r$ ã€$u_a(b)$ã€$u_a(a)$ï¼Œä»¥åŠä¹¦å†™è®¡ç®—è¿‡ç¨‹éœ€è¦ç”¨åˆ°çš„$\sum x$, $\sum y$, $\sum xy$, $\sum x^2$, $\sum y^2$ã€‚æœ€åï¼Œå®ƒé€šè¿‡`MathJax`å¯ä»¥å°†è¿ç®—å…¬å¼åŠç»“æœé€šè¿‡`LaTeX` æ¸²æŸ“æˆæ¼‚äº®çš„æ•°å­¦è¡¨è¾¾å¼ã€‚
2. çŸ©é˜µè¿ç®—ã€‚å¯ä»¥å¯¹çŸ©é˜µè¿›è¡Œä¸€äº›åŸºç¡€çš„è¿ç®—ï¼ŒåŒ…æ‹¬çŸ©é˜µåŠ æ³•ã€å‡æ³•ã€ä¹˜æ³•ä»¥åŠè½¬ç½®ã€‚å¯ä»¥è®©ç”¨æˆ·è¾“å…¥è¡Œåˆ—ä¸è¶…è¿‡ä¸¤ä½æ•°å¤§å°çš„çŸ©é˜µï¼Œè¿ç®—åç»™å‡ºç»“æœï¼Œæœ€åä½¿ç”¨`LaTeX` è¿›è¡Œæ¸²æŸ“ã€‚
3. å…¬å¼ç¼–è¾‘ã€‚è¿™ä¸€åŠŸèƒ½å¯ä»¥å®ç°ç”±ç”¨æˆ·è¾“å…¥`LaTeX` è¡¨è¾¾å¼ï¼Œå°†è¡¨è¾¾å¼æ¸²æŸ“æˆç¾è§‚çš„æ•°å­¦å…¬å¼ï¼Œå¹¶å¯å°†æ¸²æŸ“å‡ºæ¥çš„ç»“æœä¿å­˜åˆ°ç³»ç»Ÿç›¸å†Œã€‚

## é¡¹ç›®äº®ç‚¹

### äº®ç‚¹1  ä½¿ç”¨MathJaxæ¸²æŸ“LaTeXè¯­æ³•çš„æ•°å­¦å…¬å¼

GitHubé¡¹ç›®ï¼šhttps://github.com/jianzhongli/MathView

> `MathView`Â is a third-party view library, which might help you display math formula on Android apps easier. Two rendering engines available:Â [MathJax](https://www.mathjax.org/)Â andÂ [KaTeX](https://github.com/Khan/KaTeX). Support Android version 4.1 (Jelly Bean) and newer.
> 

---

åœ¨Androidé¡¹ç›®ä¸­çš„`app\build.gradle`ä¸­æ·»åŠ ä¾èµ–

```
dependencies {
    implementation 'com.android.support:appcompat-v7:25.3.1'
    implementation 'com.android.support:design:25.3.1'
    implementation 'io.github.kexanie.library:MathView:0.0.6' // æ·»åŠ çš„MathViewä¾èµ–
}
```

æ„å»ºä¹‹åï¼Œå¯åœ¨`XML`æ–‡ä»¶ä¸­ä½¿ç”¨å¦‚ä¸‹çš„MathViewï¼š

```xml
<io.github.kexanie.library.MathView
                android:id="@+id/regression_latex"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_column="1"
                android:layout_gravity="center"
                app:engine="MathJax"
                app:text="\\(  b = \\cfrac{\\bar x\\bar y - \\bar{xy}}
                {{\\bar x}^2 - \\bar {x^2}} = \\quad, \\\\
                a = \\bar y - b \\bar x = \\quad.
                \\)"></io.github.kexanie.library.MathView>
```

è¿™ä¸ªç»„ä»¶å¯ä»¥åœ¨`Java`æ–‡ä»¶ä¸­è¿ç”¨ï¼š

```java
// è·å–XMLæ–‡ä»¶ä¸­å®šä¹‰çš„MathView
MathView regressionView = (MathView)findViewById(R.id.regression_latex);
// ç¼–è¾‘MathViewä¸­çš„å…¬å¼ï¼š
regressionView.setText("\\(  b = \\cfrac{\\bar x\\bar y - \\bar{xy}}" +
        "{{\\bar x}^2 - \\bar {x^2}} = " + regressionOfB + ", \\\\" +
        "a = \\bar y - b \\bar x = " + regressionOfA +".\\)");
```

è¿™ä¹Ÿç”¨åˆ°äº†`LaTeX`è¯­æ³•ï¼Œè¿™ç§è¯­æ³•åœ¨æ•°å­¦å…¬å¼çš„æ˜¾ç¤ºä¸Šå°¤ä¸ºæœ‰ç”¨ï¼Œå¯ä»¥å°†ä»»ä½•å¤æ‚çš„å…¬å¼ç¼–å†™ä¸ºä¸€è¡Œ`LaTeX`ä»£ç ï¼Œè¿›è€Œæ¸²æŸ“æˆæ¼‚äº®çš„å…¬å¼ã€‚

Tutorialï¼š

[MathJax basic tutorial and quick reference](https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference)

Example In Our Project:

<div style="background-color: white; display: inline-block; padding: 10px;">
    <img src="FormulaExample.png" alt="Alt text" style="max-width: 100%; height: auto;">
</div>


### äº®ç‚¹2  å®ç°äº†ä¿å­˜MathViewåˆ°Androidç³»ç»Ÿç›¸å†Œ

é¦–å…ˆï¼Œå¯ä»¥å°†`MathView`æ¸²æŸ“æˆä¸€ä¸ª`BitMap`ï¼š

```java
/**
 *   å°† View æ¸²æŸ“ä¸º Bitmap
 * @param view è¦æ¸²æŸ“çš„ View
 * @return android.graphics.Bitmap
 * @author Bush
 * @date 2023/12/15 15:32
**/
public static Bitmap createBitmapFromView(View view) {
    Bitmap bitmap = Bitmap.createBitmap(view.getWidth(), view.getHeight(), Bitmap.Config.ARGB_8888);
    Canvas canvas = new Canvas(bitmap);
    view.draw(canvas);
    return bitmap;
}
```

æ¥ç€ï¼ŒæŠŠBitMapä¿å­˜åˆ°ç³»ç»Ÿå›¾åº“ä¸‹ï¼š

```java
/**
 *  ä¿å­˜ Bitmap åˆ°ç›¸å†Œ
 * @param context ä¸Šä¸‹æ–‡
 * @param bitmap è¦ä¿å­˜çš„å›¾åƒ
 * @author Bush
 * @date 2023/12/15 15:33
 */
public static void saveImageToGallery(Context context, Bitmap bitmap) {
    ContentResolver resolver = context.getContentResolver();
    ContentValues values = new ContentValues();
    values.put(MediaStore.Images.Media.DISPLAY_NAME, "JavaMathFormula" + System.currentTimeMillis() + ".png");
    values.put(MediaStore.Images.Media.MIME_TYPE, "image/png");
    values.put(MediaStore.Images.Media.RELATIVE_PATH, Environment.DIRECTORY_PICTURES + "/JavaMath");

    Uri imageUri = resolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values);

    try {
        OutputStream outputStream = resolver.openOutputStream(imageUri);
        // åœ¨è¿™é‡Œå°†å›¾åƒæ•°æ®å†™å…¥ outputStream

        bitmap.compress(Bitmap.CompressFormat.PNG, 100, outputStream);
        outputStream.flush();

        if (outputStream != null) {
            outputStream.close();
        }

        // é€šçŸ¥ç³»ç»Ÿç›¸å†Œåˆ·æ–°
        Intent mediaScanIntent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE);
        mediaScanIntent.setData(imageUri);
        context.sendBroadcast(mediaScanIntent);
    } catch (IOException e) {
        e.printStackTrace();
    }
```

è¿™é‡Œæœ‰è®¸å¤šæ³¨æ„ï¼Œä¾‹å¦‚åœ¨`AndroidManifest.xml`é‡Œéœ€è¦æ·»åŠ ï¼š

```xml
<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
```

ä¹Ÿéœ€è¦åšå„ç§ç¼–è¯‘çš„`SDK`ç‰ˆæœ¬å’Œè¿è¡Œçš„`Android`ç‰ˆæœ¬çš„é€‚é…ç­‰ç­‰ã€‚

ä¾‹å¦‚ï¼Œåœ¨`Android 10`åŠæ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œç›´æ¥åœ¨ `/storage/emulated/0/Pictures/` ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶å¯èƒ½ä¼šå—åˆ°é™åˆ¶ï¼Œ å› ä¸ºåœ¨è¿™äº›ç‰ˆæœ¬ä¸­ï¼Œåº”ç”¨é»˜è®¤å¤„äºæ²™ç›’åŒ–çš„æ²™ç›’å­˜å‚¨ç¯å¢ƒä¸­ï¼Œæ— æ³•ç›´æ¥è®¿é—®å¤§å¤šæ•°å…±äº«å­˜å‚¨ç©ºé—´ç›®å½•ã€‚

## é¡¹ç›®å·¥ä½œé‡

- åŸå¼€æºé¡¹ç›®å¤§çº¦`Java`ä»£ç é‡åœ¨3500è¡Œä»¥ä¸Š
- æˆ‘ä»¬å°ç»„æ·»åŠ çš„`Java`ä»£ç é‡çº¦ä¸º2000è¡Œä»¥ä¸Š
    - å´è‡ªå¼ºï¼š `StatisticActivity.java`å’Œ`LaTeXActivity.java`åŠç›¸å…³`XML`æ–‡ä»¶çš„ç¼–å†™ã€åŸæœ‰çš„`MainActivity.java`åŠ`AndroidManifest.xml`, `strings.xml`ç­‰çš„ä¿®æ”¹ã€‚`Java`ä»£ç é‡çº¦800è¡Œã€‚
    - æ¨è¶…å®‡ï¼š`MatrixActivityGeneral.java`ç­‰13ä¸ª`java`æ–‡ä»¶å’Œå¯¹åº”çš„`XML`æ–‡ä»¶çš„ç¼–å†™ã€‚`Java`ä»£ç é‡çº¦1300è¡Œã€‚

## é¡¹ç›®å¼€å‘ç¯å¢ƒ

- ç¡¬ä»¶ç§ç±»ï¼šPC
- JDKç‰ˆæœ¬ï¼šjbr-17 JetBrains Runtime version 17.0.6
- Android Gradle Plugin Version: 7.0.1
- Gradle Version: 7.2
- æ“ä½œç³»ç»Ÿï¼šWindows 11
- IDEï¼šAndroid Studio

## é¡¹ç›®è¿è¡Œç¯å¢ƒ

- ç¡¬ä»¶ç§ç±»ï¼šMobile Phone (Pixel 2 API 30)
- æ“ä½œç³»ç»Ÿï¼šAndroid 11.0 Google APIs | x86